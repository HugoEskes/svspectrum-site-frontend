import{f as s}from"./backend-d611d9cd.js";import{p as t,I as e}from"./Image-d4c5ad08.js";import{p as a}from"./post-16fb314f.js";import{S as n,i as r,s as l,e as o,k as c,t as i,c as f,a as m,d as h,n as p,g as u,b as g,f as d,G as $,r as v,u as w,w as k,x as b,h as j,A as D,j as E,m as I,o as y,v as M,l as V,V as A,W as x}from"./vendor-800092b8.js";import{A as Y}from"./Article-5dcc106a.js";async function _(){const t=await s("news");let e;return t.ok&&(e=(await t.json()).map(C)),{res:t,news:e}}function C(s){return"event"==s.type?t(s):"post"==s.type?a(s):void 0}function G(s){let t,e;return t=new Y({props:{markdown:s[0].content}}),{c(){E(t.$$.fragment)},l(s){I(t.$$.fragment,s)},m(s,a){y(t,s,a),e=!0},p(s,e){const a={};1&e&&(a.markdown=s[0].content),t.$set(a)},i(s){e||(b(t.$$.fragment,s),e=!0)},o(s){w(t.$$.fragment,s),e=!1},d(s){M(t,s)}}}function H(s){let t,a;return t=new e({props:{image:s[0].image}}),{c(){E(t.$$.fragment)},l(s){I(t.$$.fragment,s)},m(s,e){y(t,s,e),a=!0},p(s,e){const a={};1&e&&(a.image=s[0].image),t.$set(a)},i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){w(t.$$.fragment,s),a=!1},d(s){M(t,s)}}}function L(s){let t,e,a,n,r,l,D,E,I,y,M,V,A,x,Y,_=s[0].title+"",C=s[0].published_at.format("DD MMM YY")+"";const L=[H,G],N=[];function R(s,t){return"event"==s[0].type?0:"post"==s[0].type?1:-1}return~(n=R(s))&&(r=N[n]=L[n](s)),{c(){t=o("article"),e=o("a"),a=o("div"),r&&r.c(),l=c(),D=o("div"),E=o("h1"),I=i(_),V=c(),A=o("div"),x=i(C),this.h()},l(s){t=f(s,"ARTICLE",{class:!0});var n=m(t);e=f(n,"A",{href:!0,style:!0,class:!0});var o=m(e);a=f(o,"DIV",{class:!0});var c=m(a);r&&r.l(c),c.forEach(h),l=p(o),D=f(o,"DIV",{class:!0});var i=m(D);E=f(i,"H1",{});var g=m(E);I=u(g,_),g.forEach(h),i.forEach(h),o.forEach(h),V=p(n),A=f(n,"DIV",{class:!0});var d=m(A);x=u(d,C),d.forEach(h),n.forEach(h),this.h()},h(){g(a,"class","top svelte-g4kksn"),g(D,"class","bottom"),g(e,"href",y=`/${s[0].slug}`),g(e,"style",M=`transform: rotate(${s[1]}deg)`),g(e,"class","svelte-g4kksn"),g(A,"class","publish-date svelte-g4kksn"),g(t,"class","news-card svelte-g4kksn")},m(s,r){d(s,t,r),$(t,e),$(e,a),~n&&N[n].m(a,null),$(e,l),$(e,D),$(D,E),$(E,I),$(t,V),$(t,A),$(A,x),Y=!0},p(s,[t]){let l=n;n=R(s),n===l?~n&&N[n].p(s,t):(r&&(v(),w(N[l],1,1,(()=>{N[l]=null})),k()),~n?(r=N[n],r?r.p(s,t):(r=N[n]=L[n](s),r.c()),b(r,1),r.m(a,null)):r=null),(!Y||1&t)&&_!==(_=s[0].title+"")&&j(I,_),(!Y||1&t&&y!==(y=`/${s[0].slug}`))&&g(e,"href",y),(!Y||2&t&&M!==(M=`transform: rotate(${s[1]}deg)`))&&g(e,"style",M),(!Y||1&t)&&C!==(C=s[0].published_at.format("DD MMM YY")+"")&&j(x,C)},i(s){Y||(b(r),Y=!0)},o(s){w(r),Y=!1},d(s){s&&h(t),~n&&N[n].d()}}}function N(s,t,e){let a,{item:n}=t;return D((()=>{e(1,a=2*Math.random()-1)})),s.$$set=s=>{"item"in s&&e(0,n=s.item)},[n,a]}class R extends n{constructor(s){super(),r(this,s,N,L,l,{item:0})}}function S(s,t,e){const a=s.slice();return a[1]=t[e],a}function T(s,t){let e,a,n;return a=new R({props:{item:t[1]}}),{key:s,first:null,c(){e=V(),E(a.$$.fragment),this.h()},l(s){e=V(),I(a.$$.fragment,s),this.h()},h(){this.first=e},m(s,t){d(s,e,t),y(a,s,t),n=!0},p(s,e){t=s;const n={};1&e&&(n.item=t[1]),a.$set(n)},i(s){n||(b(a.$$.fragment,s),n=!0)},o(s){w(a.$$.fragment,s),n=!1},d(s){s&&h(e),M(a,s)}}}function W(s){let t,e,a,n,r,l,i,u,j=[],D=new Map,E=s[0];const I=s=>s[1].slug;for(let o=0;o<E.length;o+=1){let t=S(s,E,o),e=I(t);D.set(e,j[o]=T(e,t))}return{c(){t=o("div"),e=o("div"),a=c(),n=o("div"),r=c(),l=o("div"),i=c();for(let s=0;s<j.length;s+=1)j[s].c();this.h()},l(s){t=f(s,"DIV",{class:!0});var o=m(t);e=f(o,"DIV",{class:!0}),m(e).forEach(h),a=p(o),n=f(o,"DIV",{class:!0}),m(n).forEach(h),r=p(o),l=f(o,"DIV",{class:!0}),m(l).forEach(h),i=p(o);for(let t=0;t<j.length;t+=1)j[t].l(o);o.forEach(h),this.h()},h(){g(e,"class","timeline svelte-1jgnp1b"),g(n,"class","top svelte-1jgnp1b"),g(l,"class","media svelte-1jgnp1b"),g(t,"class","news-tree svelte-1jgnp1b")},m(s,o){d(s,t,o),$(t,e),$(t,a),$(t,n),$(t,r),$(t,l),$(t,i);for(let e=0;e<j.length;e+=1)j[e].m(t,null);u=!0},p(s,[e]){1&e&&(E=s[0],v(),j=A(j,e,I,1,s,E,D,t,x,T,null,S),k())},i(s){if(!u){for(let s=0;s<E.length;s+=1)b(j[s]);u=!0}},o(s){for(let t=0;t<j.length;t+=1)w(j[t]);u=!1},d(s){s&&h(t);for(let t=0;t<j.length;t+=1)j[t].d()}}}function q(s,t,e){let{news:a}=t;return s.$$set=s=>{"news"in s&&e(0,a=s.news)},[a]}class z extends n{constructor(s){super(),r(this,s,q,W,l,{news:0})}}export{z as N,_ as g};
