import{S as t,i as s,s as n,e as o,j as r,c as e,a,m as c,d as i,f as u,o as f,x as p,u as m,v as d}from"../../../chunks/vendor-800092b8.js";import{g as l}from"../../../chunks/post-16fb314f.js";import{A as $}from"../../../chunks/Article-5dcc106a.js";import"../../../chunks/backend-d611d9cd.js";function h(t){let s,n,l;return n=new $({props:{markdown:t[0].content,title:t[0].title}}),{c(){s=o("main"),r(n.$$.fragment)},l(t){s=e(t,"MAIN",{});var o=a(s);c(n.$$.fragment,o),o.forEach(i)},m(t,o){u(t,s,o),f(n,s,null),l=!0},p(t,[s]){const o={};1&s&&(o.markdown=t[0].content),1&s&&(o.title=t[0].title),n.$set(o)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){m(n.$$.fragment,t),l=!1},d(t){t&&i(s),d(n)}}}var v=function(t,s,n,o){return new(n||(n=Promise))((function(r,e){function a(t){try{i(o.next(t))}catch(s){e(s)}}function c(t){try{i(o.throw(t))}catch(s){e(s)}}function i(t){var s;t.done?r(t.value):(s=t.value,s instanceof n?s:new n((function(t){t(s)}))).then(a,c)}i((o=o.apply(t,s||[])).next())}))};function k({page:t,fetch:s,session:n,context:o}){return v(this,void 0,void 0,(function*(){const s=`post/${t.params.year}/${t.params.slug}`;let{res:n,post:o}=yield l(s);return n.ok?o?{props:{post:o}}:void 0:{status:n.status,error:new Error("database error")}}))}function g(t,s,n){let{post:o}=s;return t.$$set=t=>{"post"in t&&n(0,o=t.post)},[o]}class w extends t{constructor(t){super(),s(this,t,g,h,n,{post:0})}}export{w as default,k as load};
